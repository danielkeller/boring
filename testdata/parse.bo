fn foo['a, T](bar: &'a T, i: bool) -> i32 {
    let baf = &mut bar;
    if i {
        let a = baf(bar);
        while a() {
            let baz = ();
            baz(baf);
        }
        a()
    } else {
        &()
    }
}